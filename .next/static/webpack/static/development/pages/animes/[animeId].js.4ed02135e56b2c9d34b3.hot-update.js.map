{"version":3,"file":"static/webpack/static/development/pages/animes/[animeId].js.4ed02135e56b2c9d34b3.hot-update.js","sources":["webpack:///./pages/animes/[animeId].tsx"],"sourcesContent":["import { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport { Column, List, Title, PageLoader, Pagination } from 'rbxhotfix';\nimport Layout from '../../components/AnimeLayout';\nimport AnimeStreaming from '../../components/AnimeStreaming';\n\nimport 'rbxhotfix/index.css';\nimport '../index.css';\n\nconst animeStreaming = props => (\n    <Layout>\n      <Column size='three-fifths' offset='one-fifth' height='380px'>\n        <Title size={3} as='h1'>{props.anime.title}</Title>\n        <Title size={4} as='h2'>Episode {props.episodes.items[0].title}</Title>\n        <iframe className='video-iframe' title={props.episodes.items[0].title} frameBorder={0} src={props.episodes.items[0].link} allowFullScreen />\n        <br />\n        <Title size={5} as='h3'>Episode</Title>\n        <List>\n          {props.episodes.items.map(episode => (\n            <Link href={`/animes/${props.anime.id}/episodes/${episode.id}`}>\n              <List.Item>Episode {episode.episode}</List.Item>\n            </Link>\n          ))}\n          <List.Item>\n            <Pagination align='centered'>\n              <Pagination.Step align='previous' href={previousLink}>sebelumnya</Pagination.Step>\n              <Pagination.Step align='next' href={nextLink}>selanjutnya</Pagination.Step>\n            </Pagination>\n          </List.Item>\n        </List>\n      </Column>\n    </Layout>\n)\n\nanimeStreaming.getInitialProps = async function(ctx) {\n  console.log(ctx.query);\n  const {animeId} = ctx.query;\n  const res = await fetch(`https://api.id-anime.net/v1/animes/${animeId}`);\n  const anime = await res.json();\n\n  let episodesLink = `https://api.id-anime.net/v1/animes/${animeId}/episodes`;\n  if (ctx.query.page) {\n    episodesLink = `https://api.id-anime.net/v1/animes/${animeId}/episodes?page=${ctx.query.page}&limit=12`;\n  }\n\n  const res2 = await fetch(episodesLink);\n  const episodes = await res2.json()\n\n  console.log(anime);\n  console.log(episodes);\n  return { anime, episodes };\n}\n\nexport default animeStreaming;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAjBA;AACA;AAwBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AACA;AADA;AAIA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAVA;AAAA;AACA;AADA;AAWA;AAXA;AAAA;AACA;AADA;AAYA;AAEA;AACA;AAfA;AAgBA;AAAA;AAAA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAkBA;;;;A","sourceRoot":""}