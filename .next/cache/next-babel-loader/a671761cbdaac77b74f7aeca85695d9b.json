{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nvar _jsxFileName = \"/home/dwi/KERJA/KERJA/id-anime/id-anime-rbx-next/pages/animes/[animeId]/episodes/[episodeId].tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport { Column, List, Title, Pagination } from 'rbxhotfix';\nimport Layout from '../../../../components/AnimeLayout';\nimport 'rbxhotfix/index.css';\nimport '../../../index.css';\n\nvar animeStreaming = function animeStreaming(props) {\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, __jsx(Column, {\n    size: \"three-fifths\",\n    offset: \"one-fifth\",\n    height: \"380px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, __jsx(Title, {\n    size: 3,\n    as: \"h1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, props.anime.title), __jsx(Title, {\n    size: 4,\n    as: \"h2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, \"Episode \", props.episodes.items[0].title), __jsx(\"iframe\", {\n    className: \"video-iframe\",\n    title: props.episodes.items[0].title,\n    frameBorder: 0,\n    src: props.episodes.items[0].link,\n    allowFullScreen: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }), __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }), __jsx(Title, {\n    size: 5,\n    as: \"h3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, \"Episode\"), __jsx(List, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, props.episodes.items.map(function (episode) {\n    return __jsx(Link, {\n      href: \"/animes/\".concat(props.anime.id, \"/episodes/\").concat(episode.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, __jsx(List.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, \"Episode \", episode.episode));\n  }), __jsx(List.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, __jsx(Pagination, {\n    align: \"centered\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, __jsx(Pagination.Step, {\n    align: \"previous\",\n    href: props.previousLink,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, \"sebelumnya\"), __jsx(Pagination.Step, {\n    align: \"next\",\n    href: props.nextLink,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"selanjutnya\"))))));\n};\n\nanimeStreaming.getInitialProps = function _callee(ctx) {\n  var episodeId, animeId, res, anime, episodesLink, res2, episodes, previousLink, previousPage, nextPage, nextLink;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log(ctx.query);\n          episodeId = ctx.query.episodeId;\n          animeId = ctx.query.animeId;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(fetch(\"https://api.id-anime.net/v1/episodes/\".concat(episodeId)));\n\n        case 5:\n          res = _context.sent;\n          _context.next = 8;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 8:\n          anime = _context.sent;\n          episodesLink = \"https://api.id-anime.net/v1/animes/\".concat(animeId, \"/episodes\");\n\n          if (ctx.query.page) {\n            episodesLink = \"https://api.id-anime.net/v1/animes/\".concat(animeId, \"/episodes?page=\").concat(ctx.query.page, \"&limit=12\");\n          }\n\n          _context.next = 13;\n          return _regeneratorRuntime.awrap(fetch(episodesLink));\n\n        case 13:\n          res2 = _context.sent;\n          _context.next = 16;\n          return _regeneratorRuntime.awrap(res2.json());\n\n        case 16:\n          episodes = _context.sent;\n          console.log(anime);\n          console.log(episodes);\n          previousLink = '';\n\n          if (episodes.links.previous) {\n            // @ts-ignore\n            previousPage = _parseInt(episodes.meta.currentPage) - 1;\n            previousLink = \"/animes/\".concat(anime.id, \"?page=\").concat(previousPage);\n          } // @ts-ignore\n\n\n          nextPage = _parseInt(episodes.meta.currentPage) + 1;\n          nextLink = \"/animes/\".concat(anime.id, \"?page=\").concat(nextPage);\n          return _context.abrupt(\"return\", {\n            anime: anime,\n            episodes: episodes,\n            previousLink: previousLink,\n            nextLink: nextLink\n          });\n\n        case 24:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default animeStreaming;","map":{"version":3,"sources":["/home/dwi/KERJA/KERJA/id-anime/id-anime-rbx-next/pages/animes/[animeId]/episodes/[episodeId].tsx"],"names":["Link","fetch","Column","List","Title","Pagination","Layout","animeStreaming","props","anime","title","episodes","items","link","map","episode","id","previousLink","nextLink","getInitialProps","ctx","console","log","query","episodeId","animeId","res","json","episodesLink","page","res2","links","previous","previousPage","meta","currentPage","nextPage"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport { Column, List, Title, PageLoader, Pagination } from 'rbxhotfix';\nimport Layout from '../../../../components/AnimeLayout';\n\nimport 'rbxhotfix/index.css';\nimport '../../../index.css';\n\nconst animeStreaming = props => (\n    <Layout>\n      <Column size='three-fifths' offset='one-fifth' height='380px'>\n        <Title size={3} as='h1'>{props.anime.title}</Title>\n        <Title size={4} as='h2'>Episode {props.episodes.items[0].title}</Title>\n        <iframe className='video-iframe' title={props.episodes.items[0].title} frameBorder={0} src={props.episodes.items[0].link} allowFullScreen />\n        <br />\n        <Title size={5} as='h3'>Episode</Title>\n        <List>\n          {props.episodes.items.map(episode => (\n            <Link href={`/animes/${props.anime.id}/episodes/${episode.id}`}>\n              <List.Item>Episode {episode.episode}</List.Item>\n            </Link>\n          ))}\n          <List.Item>\n            <Pagination align='centered'>\n              <Pagination.Step align='previous' href={props.previousLink}>sebelumnya</Pagination.Step>\n              <Pagination.Step align='next' href={props.nextLink}>selanjutnya</Pagination.Step>\n            </Pagination>\n          </List.Item>\n        </List>\n      </Column>\n    </Layout>\n)\n\nanimeStreaming.getInitialProps = async function(ctx) {\n  console.log(ctx.query);\n  const {episodeId} = ctx.query;\n  const {animeId} = ctx.query;\n  const res = await fetch(`https://api.id-anime.net/v1/episodes/${episodeId}`);\n  const anime = await res.json();\n\n  let episodesLink = `https://api.id-anime.net/v1/animes/${animeId}/episodes`;\n  if (ctx.query.page) {\n    episodesLink = `https://api.id-anime.net/v1/animes/${animeId}/episodes?page=${ctx.query.page}&limit=12`;\n  }\n\n  const res2 = await fetch(episodesLink);\n  const episodes = await res2.json()\n\n  console.log(anime);\n  console.log(episodes);\n  let previousLink = '';\n  if (episodes.links.previous) {\n    // @ts-ignore\n    const previousPage = parseInt(episodes.meta.currentPage) - 1;\n    previousLink = `/animes/${anime.id}?page=${previousPage}`;\n  }\n\n  // @ts-ignore\n  let nextPage = parseInt(episodes.meta.currentPage) + 1;\n  let nextLink = `/animes/${anime.id}?page=${nextPage}`;\n  return { anime, episodes, previousLink, nextLink };\n}\n\nexport default animeStreaming;\n"]},"metadata":{},"sourceType":"module"}