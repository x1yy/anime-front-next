{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"/home/dwi/KERJA/KERJA/id-anime/id-anime-rbx-next/pages/animes/[animeId].tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from 'isomorphic-unfetch';\nimport { Column, Title } from 'rbxhotfix';\nimport Layout from '../../components/AnimeLayout';\nimport 'rbxhotfix/index.css';\nimport '../index.css';\n\nvar animeStreaming = function animeStreaming(props) {\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, __jsx(Column, {\n    size: \"three-fifths\",\n    offset: \"one-fifth\",\n    height: \"380px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, __jsx(Title, {\n    size: 3,\n    as: \"h1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, props.anime.title), __jsx(Title, {\n    size: 4,\n    as: \"h2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, \"Episode \")));\n};\n\nanimeStreaming.getInitialProps = function _callee(ctx) {\n  var animeId, res, anime, episodesLink, res2, episodes;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log(ctx.query);\n          animeId = ctx.query.animeId;\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(fetch(\"https://api.id-anime.net/v1/animes/\".concat(animeId)));\n\n        case 4:\n          res = _context.sent;\n          _context.next = 7;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 7:\n          anime = _context.sent;\n          episodesLink = \"https://api.id-anime.net/v1/animes/\".concat(animeId, \"/episodes\");\n\n          if (ctx.query.page) {\n            episodesLink = \"https://api.id-anime.net/v1/animes/\".concat(animeId, \"/episodes?page=\").concat(ctx.query.page, \"&limit=12\");\n          }\n\n          _context.next = 12;\n          return _regeneratorRuntime.awrap(fetch(episodesLink));\n\n        case 12:\n          res2 = _context.sent;\n          _context.next = 15;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 15:\n          episodes = _context.sent;\n          console.log(anime);\n          console.log(episodes);\n          return _context.abrupt(\"return\", {\n            anime: anime,\n            episodes: episodes\n          });\n\n        case 19:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default animeStreaming;","map":{"version":3,"sources":["/home/dwi/KERJA/KERJA/id-anime/id-anime-rbx-next/pages/animes/[animeId].tsx"],"names":["fetch","Column","Title","Layout","animeStreaming","props","anime","title","getInitialProps","ctx","console","log","query","animeId","res","json","episodesLink","page","res2","episodes"],"mappings":";;;;AACA,OAAOA,KAAP,MAAkB,oBAAlB;AACA,SAASC,MAAT,EAAuBC,KAAvB,QAA4D,WAA5D;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AAGA,OAAO,qBAAP;AACA,OAAO,cAAP;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,KAAK;AAAA,SACxB,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,cAAb;AAA4B,IAAA,MAAM,EAAC,WAAnC;AAA+C,IAAA,MAAM,EAAC,OAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAO,IAAA,IAAI,EAAE,CAAb;AAAgB,IAAA,EAAE,EAAC,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyBA,KAAK,CAACC,KAAN,CAAYC,KAArC,CADF,EAEE,MAAC,KAAD;AAAO,IAAA,IAAI,EAAE,CAAb;AAAgB,IAAA,EAAE,EAAC,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CADF,CADwB;AAAA,CAA5B;;AASAH,cAAc,CAACI,eAAf,GAAiC,iBAAeC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAC/BC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,KAAhB;AACOC,UAAAA,OAFwB,GAEbJ,GAAG,CAACG,KAFS,CAExBC,OAFwB;AAAA;AAAA,2CAGbb,KAAK,8CAAuCa,OAAvC,EAHQ;;AAAA;AAGzBC,UAAAA,GAHyB;AAAA;AAAA,2CAIXA,GAAG,CAACC,IAAJ,EAJW;;AAAA;AAIzBT,UAAAA,KAJyB;AAM3BU,UAAAA,YAN2B,gDAM0BH,OAN1B;;AAO/B,cAAIJ,GAAG,CAACG,KAAJ,CAAUK,IAAd,EAAoB;AAClBD,YAAAA,YAAY,gDAAyCH,OAAzC,4BAAkEJ,GAAG,CAACG,KAAJ,CAAUK,IAA5E,cAAZ;AACD;;AAT8B;AAAA,2CAWZjB,KAAK,CAACgB,YAAD,CAXO;;AAAA;AAWzBE,UAAAA,IAXyB;AAAA;AAAA,2CAYRJ,GAAG,CAACC,IAAJ,EAZQ;;AAAA;AAYzBI,UAAAA,QAZyB;AAc/BT,UAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACAI,UAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAZ;AAf+B,2CAgBxB;AAAEb,YAAAA,KAAK,EAALA,KAAF;AAASa,YAAAA,QAAQ,EAARA;AAAT,WAhBwB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjC;;AAmBA,eAAef,cAAf","sourcesContent":["import { useRouter } from 'next/router';\nimport fetch from 'isomorphic-unfetch';\nimport { Column, List, Title, PageLoader, Pagination } from 'rbxhotfix';\nimport Layout from '../../components/AnimeLayout';\nimport AnimeStreaming from '../../components/AnimeStreaming';\n\nimport 'rbxhotfix/index.css';\nimport '../index.css';\n\nconst animeStreaming = props => (\n    <Layout>\n      <Column size='three-fifths' offset='one-fifth' height='380px'>\n        <Title size={3} as='h1'>{props.anime.title}</Title>\n        <Title size={4} as='h2'>Episode </Title>\n      </Column>\n    </Layout>\n)\n\nanimeStreaming.getInitialProps = async function(ctx) {\n  console.log(ctx.query);\n  const {animeId} = ctx.query;\n  const res = await fetch(`https://api.id-anime.net/v1/animes/${animeId}`);\n  const anime = await res.json();\n\n  let episodesLink = `https://api.id-anime.net/v1/animes/${animeId}/episodes`;\n  if (ctx.query.page) {\n    episodesLink = `https://api.id-anime.net/v1/animes/${animeId}/episodes?page=${ctx.query.page}&limit=12`;\n  }\n\n  const res2 = await fetch(episodesLink);\n  const episodes = await res.json()\n\n  console.log(anime);\n  console.log(episodes);\n  return { anime, episodes };\n}\n\nexport default animeStreaming;\n"]},"metadata":{},"sourceType":"module"}